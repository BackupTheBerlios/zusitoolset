<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
	<title>Zusi-Protokoll für TCP-Netzwerkverbindungen</title>
	<link rel="stylesheet" type="text/css" href="index.css">
	<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
	<meta name="generator" content="proton und windows notepad">
</head>
<body>
	<h1>Funktionsbeschreibung</h1>
	<p>
		Für die Kommunikation zwischen Zusi und dem Server sowie zwischen dem Server und den Clients
		wird eine TCP-Verbindung zum Port 1435 des Servers aufgebaut. Der Port kann bei eventuellen
		Problemen auch geändert werden.
	</p>
	<p>
		Jeder Client meldet sich zunächst am Server an. Zusi muß sich als letzter Client anmelden (im
		Allgemeinen sollte das kein Problem darstellen, da man zunächst die "Infrastruktur" aufbaut und dann
		erst Zusi startet). Die Clients melden sich mit dem Befehl HELLO an und erhalten eine
		Bestätigung ACK_HELLO. Danach senden die Clients den Befehl NEEDED_DATA und erhalten eine
		Bestätigung ACK_NEEDED_DATA. Nach der Verbindung mit Zusi sendet der Server NEEDED_DATA mit den Daten
		aller Clients und erhält von Zusi die Bestätigung ACK_NEEDED_DATA. Wenn diese positiv ist, wartet
		der Server nun auf DATA-Befehle von Zusi, die er durchsucht und die jeweils benötgten Daten an die anderen
		Clients verteilt.
	</p>
	<p>
		Zur Zeit gibt es nur den DATA-Befehl 00 0A für Führerstandsinstrumente und einige spezielle Daten.<br>
		<a href="physikalischegroessen.htm">Auflistung der IDs</a>
	</p>
</body>
</html>