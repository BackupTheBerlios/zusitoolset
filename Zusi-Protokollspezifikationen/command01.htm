<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
	<title>Zusi-Protokoll für TCP-Netzwerkverbindungen</title>
	<link rel="stylesheet" type="text/css" href="index.css">
	<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
	<meta name="generator" content="proton und windows notepad">
</head>
<body>
	<h1>00 01 - HELLO</h1>
	<p>
		<i><b>Client » Server</i></b><br>
		Mit dem HELLO-Befehl melden sich die einzelnen Programme am Server an. Das Programm Zusi meldet sich als letztes an.
		Eine Namensänderung der Komponenten ist bis zur Anmeldung von Zusi jederzeit möglich, danach werden keine weiteren
		HELLO-Befehle (und damit auch keine weiteren Client-Anmeldungen) mehr akzeptiert.
    </p>
    <p>
   	<table>
    	<tr>
    		<td valign="top"><b>Länge</b></td>
	    	<td valign="top"><b>Inhalt</b></td>
    		<td valign="top"><b>Bezeichnung</b></td>
    		<td valign="top"><b>Beschreibung</b></td>
    	</tr>
    	<tr>
    		<td valign="top" nowrap>4 bytes</td>
	    	<td valign="top" nowrap>xx xx xx xx</td>
    		<td valign="top">PACKET_LENGTH</td>
    		<td valign="top">Länge des nachfolgenden Datenpakets in Byte (Cardinal, Intel-Order)</td>
    	</tr>
    	<tr>
    		<td valign="top">2 bytes</td>
	    	<td valign="top">00 01</td>
    		<td valign="top">HELLO</td>
    		<td valign="top">Befehl HELLO</td>
    	</tr>
    	<tr>
    		<td valign="top">1 byte</td>
	    	<td valign="top">02</td>
    		<td valign="top">VERSION</td>
    		<td valign="top">Version des Protokolls. Hier können bereits etwaige Kompatibilitätsprobleme erkannt werden.
    		Achtung, es wird Version 02 verwendet, um alte Clients ohne Client-Server-Struktur unterscheiden zu können.</td>
    	</tr>
    	<tr>
    		<td valign="top">1 byte</td>
	    	<td valign="top">xx</td>
    		<td valign="top">CLIENT_TYPE</td>
    		<td valign="top">Angabe des Client-Typs. Dient zur Unterscheidung, ob es sich um Zusi oder eine externe Komponente
    			handelt.<br>
    			01: Master-Anwendung (Zusi), jeweils nur einmal möglich. Nach dem Login dieser Anwendung sind keine weiteren Logins möglich.<br>
    			02: Sehr häufige Aktualisierung der Fahr-Daten (Fahrpult-Anwendungen)<br>
    			03: Seltene Aktualisierung der Fahrdaten (Km-Stand-Anzeiger, einzelne Fahrpult-Geräte)<br>
    			04: Seltene Aktualisierung, große Daten (Buchfahrpläne, Ansagen)<br>
    			05: Zeitkritische Aktualisierung (Reserviert)<br>
    		</td>
    	</tr>
    	<tr>
    		<td valign="top">variabel</td>
	    	<td valign="top">xx ...</td>
    		<td valign="top">IDENTIFICATION</td>
    		<td valign="top">Klartextstring zur Identifikation des Programms durch den Anwender. Das erste Byte gibt die Länge des
    			Strings an.</td>
    	</tr>
    </table>
    </p>
</body>
</html>